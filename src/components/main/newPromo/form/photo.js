import React, { useState } from 'react';

/*Иконки кнопок управления фотографиями из макета не портируются должным образом, пришлось вставлять в разметку*/

const Photo = (props) => {
  const [currentIndex, currentIndexUpdater] = useState(0);
  const [rotateClass, rotateClassUpdate] = useState(props.rotate[currentIndex]);

  const rotate = (e) => {
    if (currentIndex === props.rotate.length) {
      currentIndexUpdater(0);
      rotateClassUpdate(props.rotate[currentIndex]);
      return;
    }
    rotateClassUpdate(props.rotate[currentIndex]);
    currentIndexUpdater(currentIndex + 1);
  }

  const deleteIcon = (
    <svg width="24" height="24" viewBox="0 0 24 24" fillRule="none" xmlns="http://www.w3.org/2000/svg">
      <mask id="path-1-outside-1_1276:524" maskUnits="userSpaceOnUse" x="5.10087" y="5.11545" width="14" height="14" fill="black">
        <rect fill="white" x="5.10087" y="5.11545" width="14" height="14" />
        <path fillRule="evenodd" clipRule="evenodd" d="M8.23475 6.48156C7.7466 5.99341 6.95514 5.99341 6.46698 6.48156C5.97883 6.96972 5.97883 7.76118 6.46698 8.24933L10.2176 12L6.46698 15.7506C5.97883 16.2388 5.97883 17.0302 6.46698 17.5184C6.95514 18.0065 7.7466 18.0065 8.23475 17.5184L11.9854 13.7677L15.7359 17.5183C16.2241 18.0064 17.0156 18.0064 17.5037 17.5183C17.9919 17.0301 17.9919 16.2387 17.5037 15.7505L13.7532 12L17.5037 8.24941C17.9919 7.76125 17.9919 6.9698 17.5037 6.48164C17.0156 5.99349 16.2241 5.99349 15.7359 6.48164L11.9854 10.2322L8.23475 6.48156Z" />
      </mask>
      <path fillRule="evenodd" clipRule="evenodd" d="M8.23475 6.48156C7.7466 5.99341 6.95514 5.99341 6.46698 6.48156C5.97883 6.96972 5.97883 7.76118 6.46698 8.24933L10.2176 12L6.46698 15.7506C5.97883 16.2388 5.97883 17.0302 6.46698 17.5184C6.95514 18.0065 7.7466 18.0065 8.23475 17.5184L11.9854 13.7677L15.7359 17.5183C16.2241 18.0064 17.0156 18.0064 17.5037 17.5183C17.9919 17.0301 17.9919 16.2387 17.5037 15.7505L13.7532 12L17.5037 8.24941C17.9919 7.76125 17.9919 6.9698 17.5037 6.48164C17.0156 5.99349 16.2241 5.99349 15.7359 6.48164L11.9854 10.2322L8.23475 6.48156Z" fill="white" />
      <path d="M6.46698 6.48156L7.17409 7.18867H7.17409L6.46698 6.48156ZM8.23475 6.48156L8.94186 5.77446L8.94186 5.77446L8.23475 6.48156ZM6.46698 8.24933L7.17409 7.54222L7.17409 7.54222L6.46698 8.24933ZM10.2176 12L10.9247 12.7071L11.6318 12L10.9247 11.2929L10.2176 12ZM6.46698 15.7506L5.75988 15.0435H5.75988L6.46698 15.7506ZM6.46698 17.5184L5.75988 18.2255L6.46698 17.5184ZM8.23475 17.5184L7.52764 16.8113H7.52764L8.23475 17.5184ZM11.9854 13.7677L12.6925 13.0606L11.9854 12.3535L11.2783 13.0606L11.9854 13.7677ZM15.7359 17.5183L15.0288 18.2254L15.0288 18.2254L15.7359 17.5183ZM17.5037 15.7505L16.7966 16.4576L16.7966 16.4576L17.5037 15.7505ZM13.7532 12L13.046 11.2929L12.3389 12L13.046 12.7071L13.7532 12ZM17.5037 8.24941L18.2108 8.95652L18.2108 8.95651L17.5037 8.24941ZM17.5037 6.48164L18.2108 5.77453V5.77453L17.5037 6.48164ZM15.7359 6.48164L16.4431 7.18875L16.4431 7.18875L15.7359 6.48164ZM11.9854 10.2322L11.2783 10.9393L11.9854 11.6464L12.6925 10.9393L11.9854 10.2322ZM7.17409 7.18867C7.27172 7.09104 7.43001 7.09104 7.52764 7.18867L8.94186 5.77446C8.06318 4.89578 6.63856 4.89578 5.75988 5.77446L7.17409 7.18867ZM7.17409 7.54222C7.07646 7.44459 7.07646 7.2863 7.17409 7.18867L5.75988 5.77446C4.8812 6.65314 4.8812 8.07776 5.75988 8.95644L7.17409 7.54222ZM10.9247 11.2929L7.17409 7.54222L5.75988 8.95644L9.51051 12.7071L10.9247 11.2929ZM7.17409 16.4577L10.9247 12.7071L9.51051 11.2929L5.75988 15.0435L7.17409 16.4577ZM7.17409 16.8113C7.07646 16.7136 7.07646 16.5553 7.17409 16.4577L5.75988 15.0435C4.8812 15.9222 4.8812 17.3468 5.75988 18.2255L7.17409 16.8113ZM7.52764 16.8113C7.43001 16.9089 7.27172 16.9089 7.17409 16.8113L5.75988 18.2255C6.63856 19.1042 8.06318 19.1042 8.94186 18.2255L7.52764 16.8113ZM11.2783 13.0606L7.52764 16.8113L8.94186 18.2255L12.6925 14.4748L11.2783 13.0606ZM16.4431 16.8112L12.6925 13.0606L11.2783 14.4748L15.0288 18.2254L16.4431 16.8112ZM16.7966 16.8112C16.699 16.9088 16.5407 16.9088 16.4431 16.8112L15.0288 18.2254C15.9075 19.1041 17.3321 19.1041 18.2108 18.2254L16.7966 16.8112ZM16.7966 16.4576C16.8942 16.5553 16.8942 16.7136 16.7966 16.8112L18.2108 18.2254C19.0895 17.3467 19.0895 15.9221 18.2108 15.0434L16.7966 16.4576ZM13.046 12.7071L16.7966 16.4576L18.2108 15.0434L14.4603 11.2929L13.046 12.7071ZM16.7966 7.5423L13.046 11.2929L14.4603 12.7071L18.2108 8.95652L16.7966 7.5423ZM16.7966 7.18875C16.8942 7.28638 16.8942 7.44467 16.7966 7.5423L18.2108 8.95651C19.0895 8.07784 19.0895 6.65321 18.2108 5.77453L16.7966 7.18875ZM16.4431 7.18875C16.5407 7.09112 16.699 7.09112 16.7966 7.18875L18.2108 5.77453C17.3321 4.89585 15.9075 4.89586 15.0288 5.77453L16.4431 7.18875ZM12.6925 10.9393L16.4431 7.18875L15.0288 5.77453L11.2783 9.52509L12.6925 10.9393ZM7.52764 7.18867L11.2783 10.9393L12.6925 9.52509L8.94186 5.77446L7.52764 7.18867Z" fill="#5A5A5A" mask="url(#path-1-outside-1_1276:524)" />
    </svg>
  );

  const rotateIcon = (
    <svg width="24" height="24" viewBox="0 0 24 24" fillRule="none" xmlns="http://www.w3.org/2000/svg">
      <mask id="path-1-outside-1_1276:519" maskUnits="userSpaceOnUse" x="4" y="2" width="17" height="19" fill="black">
        <rect fill="white" x="4" y="2" width="17" height="19" />
        <path fillRule="evenodd" clipRule="evenodd" d="M17.5927 9.75839C18.1405 9.82886 18.6416 9.44194 18.7121 8.89417L19.1967 5.12771C19.2672 4.57994 18.8802 4.07876 18.3325 4.00828C17.7847 3.93781 17.2835 4.32474 17.213 4.87251L17.0115 6.43927C16.32 5.86508 15.5252 5.41997 14.6646 5.13066C13.2906 4.66876 11.8104 4.62468 10.4114 5.00398C9.0123 5.38329 7.75713 6.16895 6.80458 7.26161C5.85203 8.35427 5.24488 9.70486 5.05992 11.1426C4.87495 12.5803 5.12047 14.0406 5.76543 15.3388C6.4104 16.637 7.42583 17.7147 8.68333 18.4358C9.94083 19.1569 11.3839 19.4889 12.8301 19.3898C14.2763 19.2907 15.6606 18.765 16.808 17.8792C17.2452 17.5417 17.326 16.9137 16.9885 16.4766C16.651 16.0394 16.023 15.9586 15.5858 16.2961C14.7515 16.9402 13.7449 17.3225 12.6934 17.3945C11.6419 17.4665 10.5926 17.2251 9.67822 16.7008C8.76387 16.1765 8.02553 15.3928 7.55656 14.4489C7.0876 13.505 6.90908 12.4432 7.04357 11.3978C7.17806 10.3524 7.61953 9.37035 8.31214 8.57586C9.00476 7.78136 9.91741 7.2101 10.9347 6.9343C11.952 6.6585 13.0282 6.69055 14.0273 7.02641C14.3181 7.12416 14.5985 7.24638 14.8659 7.3911L14.0814 7.29018C13.5337 7.21971 13.0325 7.60663 12.962 8.1544C12.8915 8.70217 13.2785 9.20336 13.8262 9.27383L17.5927 9.75839Z" />
      </mask>
      <path fillRule="evenodd" clipRule="evenodd" d="M17.5927 9.75839C18.1405 9.82886 18.6416 9.44194 18.7121 8.89417L19.1967 5.12771C19.2672 4.57994 18.8802 4.07876 18.3325 4.00828C17.7847 3.93781 17.2835 4.32474 17.213 4.87251L17.0115 6.43927C16.32 5.86508 15.5252 5.41997 14.6646 5.13066C13.2906 4.66876 11.8104 4.62468 10.4114 5.00398C9.0123 5.38329 7.75713 6.16895 6.80458 7.26161C5.85203 8.35427 5.24488 9.70486 5.05992 11.1426C4.87495 12.5803 5.12047 14.0406 5.76543 15.3388C6.4104 16.637 7.42583 17.7147 8.68333 18.4358C9.94083 19.1569 11.3839 19.4889 12.8301 19.3898C14.2763 19.2907 15.6606 18.765 16.808 17.8792C17.2452 17.5417 17.326 16.9137 16.9885 16.4766C16.651 16.0394 16.023 15.9586 15.5858 16.2961C14.7515 16.9402 13.7449 17.3225 12.6934 17.3945C11.6419 17.4665 10.5926 17.2251 9.67822 16.7008C8.76387 16.1765 8.02553 15.3928 7.55656 14.4489C7.0876 13.505 6.90908 12.4432 7.04357 11.3978C7.17806 10.3524 7.61953 9.37035 8.31214 8.57586C9.00476 7.78136 9.91741 7.2101 10.9347 6.9343C11.952 6.6585 13.0282 6.69055 14.0273 7.02641C14.3181 7.12416 14.5985 7.24638 14.8659 7.3911L14.0814 7.29018C13.5337 7.21971 13.0325 7.60663 12.962 8.1544C12.8915 8.70217 13.2785 9.20336 13.8262 9.27383L17.5927 9.75839Z" fill="white" />
      <path d="M18.7121 8.89417L19.7039 9.02177L19.7039 9.02177L18.7121 8.89417ZM17.5927 9.75839L17.4651 10.7502L17.4651 10.7502L17.5927 9.75839ZM19.1967 5.12771L18.2049 5.00011L18.2049 5.00011L19.1967 5.12771ZM18.3325 4.00828L18.4601 3.01646L18.4601 3.01646L18.3325 4.00828ZM17.213 4.87251L16.2212 4.74491L16.2212 4.74491L17.213 4.87251ZM17.0115 6.43927L16.3726 7.2086C16.6532 7.44158 17.0383 7.50335 17.3777 7.3698C17.717 7.23626 17.9568 6.92857 18.0033 6.56687L17.0115 6.43927ZM14.6646 5.13066L14.3459 6.07853L14.3459 6.07853L14.6646 5.13066ZM10.4114 5.00398L10.1497 4.03882L10.1497 4.03882L10.4114 5.00398ZM6.80458 7.26161L6.0508 6.60448L6.0508 6.60448L6.80458 7.26161ZM5.05992 11.1426L4.06809 11.015L4.06809 11.015L5.05992 11.1426ZM5.76543 15.3388L6.661 14.8938L6.661 14.8938L5.76543 15.3388ZM8.68333 18.4358L9.18077 17.5683L9.18077 17.5683L8.68333 18.4358ZM12.8301 19.3898L12.7617 18.3922L12.7617 18.3922L12.8301 19.3898ZM16.808 17.8792L16.1969 17.0877L16.1969 17.0877L16.808 17.8792ZM16.9885 16.4766L17.78 15.8655L17.78 15.8655L16.9885 16.4766ZM15.5858 16.2961L14.9747 15.5046L14.9747 15.5046L15.5858 16.2961ZM12.6934 17.3945L12.6251 16.3968L12.6251 16.3968L12.6934 17.3945ZM9.67822 16.7008L10.1757 15.8333L10.1757 15.8333L9.67822 16.7008ZM7.55656 14.4489L8.45213 14.004L8.45213 14.004L7.55656 14.4489ZM7.04357 11.3978L8.03539 11.5254L8.03539 11.5254L7.04357 11.3978ZM8.31214 8.57586L7.55836 7.91873L7.55836 7.91873L8.31214 8.57586ZM10.9347 6.9343L11.1964 7.89946L11.1964 7.89946L10.9347 6.9343ZM14.0273 7.02641L13.7086 7.97428L13.7086 7.97428L14.0273 7.02641ZM14.8659 7.3911L14.7383 8.38293C15.2161 8.44439 15.6697 8.15653 15.8176 7.6981C15.9655 7.23967 15.7655 6.74096 15.3419 6.51167L14.8659 7.3911ZM14.0814 7.29018L14.209 6.29835L14.209 6.29835L14.0814 7.29018ZM12.962 8.1544L13.9538 8.282L13.9538 8.282L12.962 8.1544ZM13.8262 9.27383L13.9538 8.282L13.9538 8.282L13.8262 9.27383ZM17.7203 8.76657L17.7203 8.76657L17.4651 10.7502C18.5606 10.8912 19.563 10.1173 19.7039 9.02177L17.7203 8.76657ZM18.2049 5.00011L17.7203 8.76657L19.7039 9.02177L20.1885 5.25531L18.2049 5.00011ZM18.2049 5.00011L18.2049 5.00011L20.1885 5.25531C20.3294 4.15977 19.5556 3.1574 18.4601 3.01646L18.2049 5.00011ZM18.2049 5.00011L18.2049 5.00011L18.4601 3.01646C17.3645 2.87551 16.3621 3.64937 16.2212 4.74491L18.2049 5.00011ZM18.0033 6.56687L18.2049 5.00011L16.2212 4.74491L16.0196 6.31167L18.0033 6.56687ZM14.3459 6.07853C15.0891 6.32837 15.7755 6.71274 16.3726 7.2086L17.6503 5.66994C16.8645 5.01742 15.9613 4.51158 14.9832 4.18278L14.3459 6.07853ZM10.673 5.96914C11.8812 5.64159 13.1594 5.67966 14.3459 6.07853L14.9832 4.18278C13.4217 3.65786 11.7397 3.60777 10.1497 4.03882L10.673 5.96914ZM7.55836 7.91873C8.38094 6.97516 9.46486 6.29669 10.673 5.96914L10.1497 4.03882C8.55974 4.46988 7.13331 5.36274 6.0508 6.60448L7.55836 7.91873ZM6.05174 11.2702C6.21147 10.0286 6.73578 8.86231 7.55836 7.91873L6.0508 6.60448C4.96828 7.84623 4.27829 9.38109 4.06809 11.015L6.05174 11.2702ZM6.661 14.8938C6.10404 13.7728 5.89201 12.5117 6.05174 11.2702L4.06809 11.015C3.85789 12.6489 4.13691 14.3084 4.86987 15.7837L6.661 14.8938ZM9.18077 17.5683C8.09485 16.9456 7.21796 16.0149 6.661 14.8938L4.86987 15.7837C5.60283 17.259 6.75681 18.4838 8.18589 19.3033L9.18077 17.5683ZM12.7617 18.3922C11.5129 18.4777 10.2667 18.191 9.18077 17.5683L8.18589 19.3033C9.61496 20.1228 11.2549 20.5001 12.8984 20.3875L12.7617 18.3922ZM16.1969 17.0877C15.2061 17.8526 14.0106 18.3066 12.7617 18.3922L12.8984 20.3875C14.5419 20.2749 16.1152 19.6775 17.4191 18.6708L16.1969 17.0877ZM16.1969 17.0877L16.1969 17.0877L17.4191 18.6708C18.2934 17.9958 18.455 16.7398 17.78 15.8655L16.1969 17.0877ZM16.1969 17.0877L16.1969 17.0877L17.78 15.8655C17.105 14.9911 15.849 14.8296 14.9747 15.5046L16.1969 17.0877ZM12.7617 18.3921C14.0106 18.3066 15.2061 17.8526 16.1969 17.0877L14.9747 15.5046C14.297 16.0278 13.4793 16.3383 12.6251 16.3968L12.7617 18.3921ZM9.18077 17.5683C10.2667 18.191 11.5129 18.4777 12.7617 18.3921L12.6251 16.3968C11.7708 16.4553 10.9184 16.2592 10.1757 15.8333L9.18077 17.5683ZM6.661 14.8938C7.21796 16.0149 8.09485 16.9456 9.18077 17.5683L10.1757 15.8333C9.43288 15.4074 8.83309 14.7708 8.45213 14.004L6.661 14.8938ZM6.05174 11.2702C5.89201 12.5117 6.10404 13.7728 6.661 14.8938L8.45213 14.004C8.07116 13.2372 7.92614 12.3746 8.03539 11.5254L6.05174 11.2702ZM7.55836 7.91873C6.73578 8.86231 6.21147 10.0286 6.05174 11.2702L8.03539 11.5254C8.14465 10.6762 8.50328 9.87839 9.06593 9.23298L7.55836 7.91873ZM10.673 5.96914C9.46486 6.29669 8.38094 6.97516 7.55836 7.91873L9.06593 9.23298C9.62857 8.58757 10.37 8.1235 11.1964 7.89946L10.673 5.96914ZM14.3459 6.07853C13.1594 5.67966 11.8812 5.64159 10.673 5.96914L11.1964 7.89946C12.0228 7.67541 12.897 7.70145 13.7086 7.97428L14.3459 6.07853ZM15.3419 6.51167C15.0244 6.33978 14.6913 6.19463 14.3459 6.07853L13.7086 7.97428C13.9449 8.0537 14.1727 8.15298 14.3899 8.27054L15.3419 6.51167ZM13.9538 8.282L14.7383 8.38293L14.9935 6.39928L14.209 6.29835L13.9538 8.282ZM13.9538 8.282L13.9538 8.282L14.209 6.29835C13.1135 6.15741 12.1111 6.93126 11.9702 8.0268L13.9538 8.282ZM13.9538 8.282L13.9538 8.282L11.9702 8.0268C11.8292 9.12234 12.6031 10.1247 13.6986 10.2657L13.9538 8.282ZM17.7203 8.76657L13.9538 8.282L13.6986 10.2657L17.4651 10.7502L17.7203 8.76657Z" fill="#5A5A5A" mask="url(#path-1-outside-1_1276:519)" />
    </svg>
  );

  return (
    <div className={props.first ? 'promo-creation__photo-item promo-creation__photo-item--first' : 'promo-creation__photo-item'}>
      <div className={`${rotateClass} promo-creation__image-wrapper`}>
        <img
          className='promo-creation__photo'
          src={props.src}
          alt='Изображение вашего товара'
        />
      </div>
      <button
        type='button'
        className='promo-creation__photo-button promo-creation__photo-button--rotate'
        onClick={rotate}>
        {rotateIcon}
        <span className='visually-hidden'>
          {props.rotateText}
        </span>
      </button>
      <button
        type='button'
        className='promo-creation__photo-button promo-creation__photo-button--delete'
        onClick={props.remove(props.id)}>
        {deleteIcon}
        <span className='visually-hidden'>
          {props.deleteText}
        </span>
      </button>
    </div>
  );
}

export { Photo }
